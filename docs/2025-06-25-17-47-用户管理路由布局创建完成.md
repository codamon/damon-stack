# ç”¨æˆ·ç®¡ç†è·¯ç”±å¸ƒå±€åˆ›å»ºå®Œæˆ

**æ—¶é—´**: 2025-06-25 17:47  
**ä»»åŠ¡**: ç”¨æˆ·ç®¡ç†CRUDåŠŸèƒ½æ¨¡å— - ç¬¬äº”æ­¥ï¼šåˆ›å»ºè·¯ç”±å¸ƒå±€

## å®Œæˆå†…å®¹

### 1. åˆ›å»ºç”¨æˆ·è·¯ç”±å¸ƒå±€æ–‡ä»¶

æ–°å»º `apps/admin-dashboard/app/users/layout.tsx` æ–‡ä»¶ï¼Œå®ç°è·¯ç”±çº§åˆ«çš„å¸ƒå±€ç®¡ç†ã€‚

### 2. å¸ƒå±€æ¶æ„ä¼˜åŒ–

#### é‡æ„å‰çš„é—®é¢˜
- æ¯ä¸ªé¡µé¢éƒ½éœ€è¦æ‰‹åŠ¨å¯¼å…¥å’Œä½¿ç”¨ `Layout` ç»„ä»¶
- å¸ƒå±€ä»£ç é‡å¤ï¼Œç»´æŠ¤æˆæœ¬é«˜
- æ²¡æœ‰ç»Ÿä¸€çš„è·¯ç”±å¸ƒå±€ç®¡ç†

#### é‡æ„åçš„æ¶æ„
```
/users/* è·¯ç”±æ¶æ„ï¼š
â”œâ”€â”€ /users/layout.tsx     # è·¯ç”±å¸ƒå±€ï¼ˆç»Ÿä¸€åº”ç”¨Layoutï¼‰
â”œâ”€â”€ /users/page.tsx       # ç”¨æˆ·åˆ—è¡¨é¡µé¢
â””â”€â”€ /users/UserForm.tsx   # ç”¨æˆ·è¡¨å•ç»„ä»¶
```

### 3. å®ç°ç»†èŠ‚

#### è·¯ç”±å¸ƒå±€æ–‡ä»¶ (`/users/layout.tsx`)
```typescript
import { ReactNode } from 'react';
import { Layout } from '@/components';

interface UsersLayoutProps {
  children: ReactNode;
}

export default function UsersLayout({ children }: UsersLayoutProps) {
  return (
    <Layout>
      {children}
    </Layout>
  );
}
```

#### é¡µé¢ç»„ä»¶é‡æ„ (`/users/page.tsx`)
**é‡æ„å‰**:
```typescript
import { Layout } from '@/components';

export default function UsersPage() {
  return (
    <Layout>
      <Container size="xl">
        {/* é¡µé¢å†…å®¹ */}
      </Container>
    </Layout>
  );
}
```

**é‡æ„å**:
```typescript
// ç§»é™¤ Layout å¯¼å…¥å’ŒåŒ…è£¹
export default function UsersPage() {
  return (
    <Container size="xl">
      {/* é¡µé¢å†…å®¹ */}
    </Container>
  );
}
```

## æŠ€æœ¯ä¼˜åŠ¿

### 1. Next.js 15 App Router è§„èŒƒ
- âœ… **åµŒå¥—å¸ƒå±€**: åˆ©ç”¨ Next.js çš„åµŒå¥—å¸ƒå±€ç‰¹æ€§
- âœ… **è‡ªåŠ¨åº”ç”¨**: æ‰€æœ‰ `/users/*` è·¯ç”±è‡ªåŠ¨åº”ç”¨å¸ƒå±€
- âœ… **æ€§èƒ½ä¼˜åŒ–**: å¸ƒå±€ç»„ä»¶åœ¨è·¯ç”±åˆ‡æ¢æ—¶ä¿æŒçŠ¶æ€

### 2. ä»£ç ç»“æ„ä¼˜åŒ–
- ğŸ”„ **DRYåŸåˆ™**: æ¶ˆé™¤å¸ƒå±€ä»£ç é‡å¤
- ğŸ“¦ **æ¨¡å—åŒ–**: å¸ƒå±€é€»è¾‘ä¸é¡µé¢é€»è¾‘åˆ†ç¦»
- ğŸ¯ **ä¸“ä¸€èŒè´£**: æ¯ä¸ªç»„ä»¶åªè´Ÿè´£è‡ªå·±çš„èŒè´£

### 3. ç»´æŠ¤æ€§æå‡
- ğŸ› ï¸ **ç»Ÿä¸€ç®¡ç†**: æ‰€æœ‰ç”¨æˆ·é¡µé¢å¸ƒå±€åœ¨ä¸€å¤„é…ç½®
- ğŸ”§ **æ˜“äºä¿®æ”¹**: å¸ƒå±€å˜æ›´åªéœ€ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶
- ğŸ“ˆ **å¯æ‰©å±•**: ä¾¿äºæ·»åŠ ç”¨æˆ·ç›¸å…³çš„æ–°é¡µé¢

## è·¯ç”±å¸ƒå±€å±‚çº§

```
åº”ç”¨å¸ƒå±€å±‚çº§ç»“æ„ï¼š
â”œâ”€â”€ app/layout.tsx           # å…¨å±€æ ¹å¸ƒå±€ (providers, html, body)
â”œâ”€â”€ app/users/layout.tsx     # ç”¨æˆ·ç®¡ç†å¸ƒå±€ (åå°Layoutç»„ä»¶)
â”œâ”€â”€ app/users/page.tsx       # ç”¨æˆ·åˆ—è¡¨é¡µé¢
â”œâ”€â”€ app/users/create/page.tsx # (æœªæ¥) åˆ›å»ºç”¨æˆ·é¡µé¢
â””â”€â”€ app/users/[id]/page.tsx   # (æœªæ¥) ç”¨æˆ·è¯¦æƒ…é¡µé¢
```

## å®é™…æ•ˆæœ

### 1. è‡ªåŠ¨å¸ƒå±€åº”ç”¨
- è®¿é—® `/users` â†’ è‡ªåŠ¨åº”ç”¨åå°å¸ƒå±€
- è®¿é—® `/users/ä»»ä½•å­è·¯ç”±` â†’ åŒæ ·åº”ç”¨åå°å¸ƒå±€
- å¸ƒå±€åŒ…å«ï¼šHeaderã€Navbarã€Main åŒºåŸŸ

### 2. é¡µé¢ç»„ä»¶ç®€åŒ–
- é¡µé¢ç»„ä»¶åªéœ€å…³æ³¨å†…å®¹é€»è¾‘
- æ— éœ€é‡å¤å¯¼å…¥å’Œä½¿ç”¨å¸ƒå±€ç»„ä»¶
- ä»£ç æ›´åŠ æ¸…æ´å’Œä¸“æ³¨

### 3. å¼€å‘ä½“éªŒæå‡
- æ–°å¢ç”¨æˆ·ç›¸å…³é¡µé¢æ—¶è‡ªåŠ¨è·å¾—å¸ƒå±€
- å¸ƒå±€ä¿®æ”¹åªéœ€æ”¹åŠ¨ä¸€å¤„
- æ›´ç¬¦åˆ Next.js æœ€ä½³å®è·µ

## å¯¹æ¯”åˆ†æ

| æ–¹é¢ | é‡æ„å‰ | é‡æ„å |
|------|--------|--------|
| **å¸ƒå±€ç®¡ç†** | æ¯é¡µé¢æ‰‹åŠ¨åŒ…è£¹ | è·¯ç”±çº§è‡ªåŠ¨åº”ç”¨ |
| **ä»£ç é‡å¤** | é«˜ (æ¯é¡µé¢éƒ½æœ‰) | ä½ (ç»Ÿä¸€ç®¡ç†) |
| **ç»´æŠ¤æˆæœ¬** | é«˜ (åˆ†æ•£ä¿®æ”¹) | ä½ (é›†ä¸­ä¿®æ”¹) |
| **æ–°é¡µé¢å¼€å‘** | éœ€æ‰‹åŠ¨æ·»åŠ å¸ƒå±€ | è‡ªåŠ¨è·å¾—å¸ƒå±€ |
| **Next.js è§„èŒƒ** | éƒ¨åˆ†ç¬¦åˆ | å®Œå…¨ç¬¦åˆ |

## æ‰©å±•ç¤ºä¾‹

åŸºäºæ­¤æ¶æ„ï¼Œæœªæ¥å¯ä»¥è½»æ¾æ·»åŠ æ›´å¤šç”¨æˆ·ç›¸å…³é¡µé¢ï¼š

```typescript
// app/users/create/page.tsx
export default function CreateUserPage() {
  return (
    <Container>
      <Title>åˆ›å»ºç”¨æˆ·</Title>
      {/* è‡ªåŠ¨è·å¾—Layoutå¸ƒå±€ */}
    </Container>
  );
}

// app/users/[id]/page.tsx  
export default function UserDetailPage({ params }: { params: { id: string } }) {
  return (
    <Container>
      <Title>ç”¨æˆ·è¯¦æƒ…</Title>
      {/* è‡ªåŠ¨è·å¾—Layoutå¸ƒå±€ */}
    </Container>
  );
}
```

## çŠ¶æ€

âœ… **å®Œæˆ** - ç”¨æˆ·ç®¡ç†è·¯ç”±å¸ƒå±€å·²åˆ›å»ºï¼Œå®ç°äº†ç»Ÿä¸€çš„å¸ƒå±€ç®¡ç†å’Œæ›´ä¼˜çš„ä»£ç æ¶æ„ 